(function(I,A){"object"==typeof exports&&"undefined"!=typeof module?module.exports=A():"function"==typeof define&&define.amd?define(A):(I=I||self).Sweetalert2=A()})(this,function(){"use strict";const I=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),A="SweetAlert2:",Z=e=>e.charAt(0).toUpperCase()+e.slice(1),x=e=>Array.prototype.slice.call(e),m=e=>{console.warn("".concat(A," ").concat("object"==typeof e?e.join(" "):e))},l=e=>{console.error("".concat(A," ").concat(e))},v=[],N=e=>"function"==typeof e?e():e,j=e=>e&&"function"==typeof e.toPromise,u=e=>j(e)?e.toPromise():Promise.resolve(e),c=e=>e&&Promise.resolve(e)===e,r=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e),p=e=>{const t={};for(const n in e)t[e[n]]="swal2-"+e[n];return t},s=p(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),b=p(["success","warning","info","question","error"]),_=()=>document.body.querySelector(".".concat(s.container)),T=e=>{const t=_();return t?t.querySelector(e):null},S=e=>T(".".concat(e)),g=()=>S(s.popup),B=()=>S(s.icon),De=()=>S(s.title),le=()=>S(s["html-container"]),qe=()=>S(s.image),Fe=()=>S(s["progress-steps"]),ue=()=>S(s["validation-message"]),U=()=>T(".".concat(s.actions," .").concat(s.confirm)),z=()=>T(".".concat(s.actions," .").concat(s.deny)),X=()=>T(".".concat(s.loader)),K=()=>T(".".concat(s.actions," .").concat(s.cancel)),de=()=>S(s.actions),Re=()=>S(s.footer),he=()=>S(s["timer-progress-bar"]),be=()=>S(s.close),ye=()=>{const e=x(g().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((n,o)=>(n=parseInt(n.getAttribute("tabindex")))>(o=parseInt(o.getAttribute("tabindex")))?1:n<o?-1:0),t=x(g().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(n=>"-1"!==n.getAttribute("tabindex"));return(e=>{const t=[];for(let n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t})(e.concat(t)).filter(n=>M(n))},_e=()=>!$(document.body,s["toast-shown"])&&!$(document.body,s["no-backdrop"]),fe=()=>g()&&$(g(),s.toast),G={previousBodyPadding:null},O=(e,t)=>{if(e.textContent="",t){const o=(new DOMParser).parseFromString(t,"text/html");x(o.querySelector("head").childNodes).forEach(a=>{e.appendChild(a)}),x(o.querySelector("body").childNodes).forEach(a=>{e.appendChild(a)})}},$=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let o=0;o<n.length;o++)if(!e.classList.contains(n[o]))return!1;return!0},H=(e,t,n)=>{if(((e,t)=>{x(e.classList).forEach(n=>{!Object.values(s).includes(n)&&!Object.values(b).includes(n)&&!Object.values(t.showClass).includes(n)&&e.classList.remove(n)})})(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return m("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));C(e,t.customClass[n])}},we=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return V(e,s[t]);case"checkbox":return e.querySelector(".".concat(s.checkbox," input"));case"radio":return e.querySelector(".".concat(s.radio," input:checked"))||e.querySelector(".".concat(s.radio," input:first-child"));case"range":return e.querySelector(".".concat(s.range," input"));default:return V(e,s.input)}},Me=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},Ue=(e,t,n)=>{!e||!t||("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(o=>{e.forEach?e.forEach(a=>{n?a.classList.add(o):a.classList.remove(o)}):n?e.classList.add(o):e.classList.remove(o)}))},C=(e,t)=>{Ue(e,t,!0)},W=(e,t)=>{Ue(e,t,!1)},V=(e,t)=>{for(let n=0;n<e.childNodes.length;n++)if($(e.childNodes[n],t))return e.childNodes[n]},ie=(e,t,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},D=e=>{e.style.display="none"},He=(e,t,n,o)=>{const a=e.querySelector(t);a&&(a.style[n]=o)},pe=(e,t,n)=>{t?L(e,n):D(e)},M=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),je=e=>e.scrollHeight>e.clientHeight,We=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),o=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||o>0},ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=he();M(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},Ve=()=>"undefined"==typeof window||"undefined"==typeof document,At='\n <div aria-labelledby="'.concat(s.title,'" aria-describedby="').concat(s["html-container"],'" class="').concat(s.popup,'" tabindex="-1">\n   <button type="button" class="').concat(s.close,'"></button>\n   <ul class="').concat(s["progress-steps"],'"></ul>\n   <div class="').concat(s.icon,'"></div>\n   <img class="').concat(s.image,'" />\n   <h2 class="').concat(s.title,'" id="').concat(s.title,'"></h2>\n   <div class="').concat(s["html-container"],'" id="').concat(s["html-container"],'"></div>\n   <input class="').concat(s.input,'" />\n   <input type="file" class="').concat(s.file,'" />\n   <div class="').concat(s.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(s.select,'"></select>\n   <div class="').concat(s.radio,'"></div>\n   <label for="').concat(s.checkbox,'" class="').concat(s.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(s.label,'"></span>\n   </label>\n   <textarea class="').concat(s.textarea,'"></textarea>\n   <div class="').concat(s["validation-message"],'" id="').concat(s["validation-message"],'"></div>\n   <div class="').concat(s.actions,'">\n     <div class="').concat(s.loader,'"></div>\n     <button type="button" class="').concat(s.confirm,'"></button>\n     <button type="button" class="').concat(s.deny,'"></button>\n     <button type="button" class="').concat(s.cancel,'"></button>\n   </div>\n   <div class="').concat(s.footer,'"></div>\n   <div class="').concat(s["timer-progress-bar-container"],'">\n     <div class="').concat(s["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Q=()=>{Y.isVisible()&&Y.resetValidationMessage()},Ce=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?Tt(e,t):e&&O(t,e)},Tt=(e,t)=>{e.jquery?Lt(t,e):O(t,e.toString())},Lt=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},re=(()=>{if(Ve())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1})();function Pe(e,t,n){pe(e,n["show".concat(Z(t),"Button")],"inline-block"),O(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=s[t],H(e,n,"".concat(t,"Button")),C(e,n["".concat(t,"ButtonClass")])}var w={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const jt=["input","file","range","select","radio","checkbox","textarea"],Ae=(e,t)=>{(!e.placeholder||t.inputPlaceholder)&&(e.placeholder=t.inputPlaceholder)},ae=(e,t,n)=>{if(n.inputLabel){e.id=s.input;const o=document.createElement("label"),a=s["input-label"];o.setAttribute("for",e.id),o.className=a,C(o,n.customClass.inputLabel),o.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",o)}},Ne=e=>{const t=s[e]?s[e]:s.input;return V(g(),t)},F={};F.text=F.email=F.password=F.number=F.tel=F.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:c(t.inputValue)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),ae(e,e,t),Ae(e,t),e.type=t.input,e),F.file=(e,t)=>(ae(e,e,t),Ae(e,t),e),F.range=(e,t)=>{const n=e.querySelector("input"),o=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,o.value=t.inputValue,ae(n,e,t),e},F.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");O(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return ae(e,e,t),e},F.radio=e=>(e.textContent="",e),F.checkbox=(e,t)=>{const n=we(g(),"checkbox");n.value=1,n.id=s.checkbox,n.checked=Boolean(t.inputValue);const o=e.querySelector("span");return O(o,t.inputPlaceholder),e},F.textarea=(e,t)=>(e.value=t.inputValue,Ae(e,t),ae(e,e,t),setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(g()).width);new MutationObserver(()=>{const f=e.offsetWidth+(o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight))(e);g().style.width=f>o?"".concat(f,"px"):null}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e);const Kt=(e,t)=>{const n=le();H(n,t,"htmlContainer"),t.html?(Ce(t.html,n),L(n,"block")):t.text?(n.textContent=t.text,L(n,"block")):D(n),((e,t)=>{const n=g(),o=w.innerParams.get(e),a=!o||t.input!==o.input;jt.forEach(f=>{const E=s[f],R=V(n,E);((e,t)=>{const n=we(g(),e);if(n){(e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["type","value","style"].includes(n)||e.removeAttribute(n)}})(n);for(const o in t)n.setAttribute(o,t[o])}})(f,t.inputAttributes),R.className=E,a&&D(R)}),t.input&&(a&&(e=>{if(!F[e.input])return l('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Ne(e.input),n=F[e.input](t,e);L(n),setTimeout(()=>{Me(n)})})(t),(e=>{const t=Ne(e.input);e.customClass&&C(t,e.customClass.input)})(t))})(e,t)},ze=(e,t)=>{for(const n in b)t.icon!==n&&W(e,b[n]);C(e,b[t.icon]),Xt(e,t),Zt(),H(e,t,"icon")},Zt=()=>{const e=g(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=t},$e=(e,t)=>{e.textContent="",O(e,t.iconHtml?Ke(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Ke({question:"?",warning:"!",info:"i"}[t.icon]))},Xt=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])He(e,n,"backgroundColor",t.iconColor);He(e,".swal2-success-ring","borderColor",t.iconColor)}},Ke=e=>'<div class="'.concat(s["icon-content"],'">').concat(e,"</div>"),Qe=(e,t)=>{((e,t)=>{const n=_(),o=g();t.toast?(ie(n,"width",t.width),o.style.width="100%",o.insertBefore(X(),B())):ie(o,"width",t.width),ie(o,"padding",t.padding),t.color&&(o.style.color=t.color),t.background&&(o.style.background=t.background),D(ue()),((e,t)=>{e.className="".concat(s.popup," ").concat(M(e)?t.showClass.popup:""),t.toast?(C([document.documentElement,document.body],s["toast-shown"]),C(e,s.toast)):C(e,s.modal),H(e,t,"popup"),"string"==typeof t.customClass&&C(e,t.customClass),t.icon&&C(e,s["icon-".concat(t.icon)])})(o,t)})(0,t),((e,t)=>{const n=_();!n||(function Rt(e,t){"string"==typeof t?e.style.background=t:t||C([document.documentElement,document.body],s["no-backdrop"])}(n,t.backdrop),function Mt(e,t){t in s?C(e,s[t]):(m('The "position" parameter is not valid, defaulting to "center"'),C(e,s.center))}(n,t.position),function Ut(e,t){if(t&&"string"==typeof t){const n="grow-".concat(t);n in s&&C(e,s[n])}}(n,t.grow),H(n,t,"container"))})(0,t),((e,t)=>{const n=Fe();if(!t.progressSteps||0===t.progressSteps.length)return D(n);L(n),n.textContent="",t.currentProgressStep>=t.progressSteps.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((o,a)=>{const f=(e=>{const t=document.createElement("li");return C(t,s["progress-step"]),O(t,e),t})(o);if(n.appendChild(f),a===t.currentProgressStep&&C(f,s["active-progress-step"]),a!==t.progressSteps.length-1){const E=(e=>{const t=document.createElement("li");return C(t,s["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);n.appendChild(E)}})})(0,t),((e,t)=>{const n=w.innerParams.get(e),o=B();n&&t.icon===n.icon?($e(o,t),ze(o,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(b).indexOf(t.icon)?(l('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),D(o)):(L(o),$e(o,t),ze(o,t),C(o,t.showClass.icon)):D(o)})(e,t),((e,t)=>{const n=qe();if(!t.imageUrl)return D(n);L(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ie(n,"width",t.imageWidth),ie(n,"height",t.imageHeight),n.className=s.image,H(n,t,"image")})(0,t),((e,t)=>{const n=De();pe(n,t.title||t.titleText,"block"),t.title&&Ce(t.title,n),t.titleText&&(n.innerText=t.titleText),H(n,t,"title")})(0,t),((e,t)=>{const n=be();O(n,t.closeButtonHtml),H(n,t,"closeButton"),pe(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),Kt(e,t),((e,t)=>{const n=de(),o=X();t.showConfirmButton||t.showDenyButton||t.showCancelButton?L(n):D(n),H(n,t,"actions"),function qt(e,t,n){const o=U(),a=z(),f=K();Pe(o,"confirm",n),Pe(a,"deny",n),Pe(f,"cancel",n),function Ft(e,t,n,o){if(!o.buttonsStyling)return W([e,t,n],s.styled);C([e,t,n],s.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,C(e,s["default-outline"])),o.denyButtonColor&&(t.style.backgroundColor=o.denyButtonColor,C(t,s["default-outline"])),o.cancelButtonColor&&(n.style.backgroundColor=o.cancelButtonColor,C(n,s["default-outline"]))}(o,a,f,n),n.reverseButtons&&(n.toast?(e.insertBefore(f,o),e.insertBefore(a,o)):(e.insertBefore(f,t),e.insertBefore(a,t),e.insertBefore(o,t)))}(n,o,t),O(o,t.loaderHtml),H(o,t,"loader")})(0,t),((e,t)=>{const n=Re();pe(n,t.footer),t.footer&&Ce(t.footer,n),H(n,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(g())},Je=()=>U()&&U().click(),ee=e=>{let t=g();t||Y.fire(),t=g();const n=X();fe()?D(B()):hn(t,e),L(n),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},hn=(e,t)=>{const n=de(),o=X();!t&&M(U())&&(t=U()),L(n),t&&(D(t),o.setAttribute("data-button-to-replace",t.className)),o.parentNode.insertBefore(o,t),C([e,n],s.loading)},y={},Ye=()=>{if(y.timeout)return(()=>{const e=he(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),o=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(o,"%")})(),y.timeout.stop()},Ze=()=>{if(y.timeout){const e=y.timeout.start();return ve(e),e}};let Xe=!1;const Se={},vn=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in Se){const o=t.getAttribute(n);if(o)return void Se[n].fire({template:o})}},te={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Cn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pn={},An=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ge=e=>Object.prototype.hasOwnProperty.call(te,e),Ie=e=>Pn[e],In=e=>{Ge(e)||m('Unknown parameter "'.concat(e,'"'))},kn=e=>{An.includes(e)&&m('The parameter "'.concat(e,'" is incompatible with toasts'))},Bn=e=>{Ie(e)&&((e,t)=>{(e=>{v.includes(e)||(v.push(e),m(e))})('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))})(e,Ie(e))},En=e=>{!e.backdrop&&e.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)In(t),e.toast&&kn(t),Bn(t)};var xn=Object.freeze({isValidParameter:Ge,isUpdatableParameter:e=>-1!==Cn.indexOf(e),isDeprecatedParameter:Ie,argsToParams:e=>{const t={};return"object"!=typeof e[0]||r(e[0])?["title","html","icon"].forEach((n,o)=>{const a=e[o];"string"==typeof a||r(a)?t[n]=a:void 0!==a&&l("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof a))}):Object.assign(t,e[0]),t},isVisible:()=>M(g()),clickConfirm:Je,clickDeny:()=>z()&&z().click(),clickCancel:()=>K()&&K().click(),getContainer:_,getPopup:g,getTitle:De,getHtmlContainer:le,getImage:qe,getIcon:B,getInputLabel:()=>S(s["input-label"]),getCloseButton:be,getActions:de,getConfirmButton:U,getDenyButton:z,getCancelButton:K,getLoader:X,getFooter:Re,getTimerProgressBar:he,getFocusableElements:ye,getValidationMessage:ue,isLoading:()=>g().hasAttribute("data-loading"),fire:function un(){const e=this;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return new e(...n)},mixin:function dn(e){return class t extends(this){_main(o,a){return super._main(o,Object.assign({},e,a))}}},showLoading:ee,enableLoading:ee,getTimerLeft:()=>y.timeout&&y.timeout.getTimerLeft(),stopTimer:Ye,resumeTimer:Ze,toggleTimer:()=>{const e=y.timeout;return e&&(e.running?Ye():Ze())},increaseTimer:e=>{if(y.timeout){const t=y.timeout.increase(e);return ve(t,!0),t}},isTimerRunning:()=>y.timeout&&y.timeout.isRunning(),bindClickHandler:function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template";Se[e]=this,Xe||(document.body.addEventListener("click",vn),Xe=!0)}});function et(){const e=w.innerParams.get(this);if(!e)return;const t=w.domCache.get(this);D(t.loader),fe()?e.icon&&L(B()):Tn(t),W([t.popup,t.actions],s.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Tn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?L(t[0],"inline-block"):!M(U())&&!M(z())&&!M(K())&&D(e.actions)},Mn=e=>{const t=e.target,n=_();return!(Un(e)||Hn(e)||t!==n&&(je(n)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||je(le())&&le().contains(t)))},Un=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Hn=e=>e.touches&&e.touches.length>1,tt=()=>{x(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})};var ce={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function nt(e,t,n,o){fe()?st(e,o):((e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,o=window.scrollY;y.restoreFocusTimeout=setTimeout(()=>{y.previousActiveElement&&y.previousActiveElement.focus?(y.previousActiveElement.focus(),y.previousActiveElement=null):document.body&&document.body.focus(),t()},100),window.scrollTo(n,o)}))(n).then(()=>st(e,o)),y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),_e()&&(null!==G.previousBodyPadding&&(document.body.style.paddingRight="".concat(G.previousBodyPadding,"px"),G.previousBodyPadding=null),(()=>{if($(document.body,s.iosfix)){const e=parseInt(document.body.style.top,10);W(document.body,s.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),tt()),function Vn(){W([document.documentElement,document.body],[s.shown,s["height-auto"],s["no-backdrop"],s["toast-shown"]])}()}function ge(e){e=Kn(e);const t=ce.swalPromiseResolve.get(this),n=zn(this);this.isAwaitingPromise()?e.isDismissed||(ot(this),t(e)):n&&t(e)}const zn=e=>{const t=g();if(!t)return!1;const n=w.innerParams.get(e);if(!n||$(t,n.hideClass.popup))return!1;W(t,n.showClass.popup),C(t,n.hideClass.popup);const o=_();return W(o,n.showClass.backdrop),C(o,n.hideClass.backdrop),Qn(e,t,n),!0},ot=e=>{e.isAwaitingPromise()&&(w.awaitingPromise.delete(e),w.innerParams.get(e)||e._destroy())},Kn=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Qn=(e,t,n)=>{const o=_(),a=re&&We(t);"function"==typeof n.willClose&&n.willClose(t),a?Jn(e,t,o,n.returnFocus,n.didClose):nt(e,o,n.returnFocus,n.didClose)},Jn=(e,t,n,o,a)=>{y.swalCloseEventFinishedCallback=nt.bind(null,e,n,o,a),t.addEventListener(re,function(f){f.target===t&&(y.swalCloseEventFinishedCallback(),delete y.swalCloseEventFinishedCallback)})},st=(e,t)=>{setTimeout(()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()})};function it(e,t,n){const o=w.domCache.get(e);t.forEach(a=>{o[a].disabled=n})}function rt(e,t){if(!e)return!1;if("radio"===e.type){const o=e.parentNode.parentNode.querySelectorAll("input");for(let a=0;a<o.length;a++)o[a].disabled=t}else e.disabled=t}class oo{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var at={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function ro(e){(function so(e){e.inputValidator||Object.keys(at).forEach(t=>{e.input===t&&(e.inputValidator=at[t])})})(e),e.showLoaderOnConfirm&&!e.preConfirm&&m("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function io(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),(e=>{const t=(()=>{const e=_();return!!e&&(e.remove(),W([document.documentElement,document.body],[s["no-backdrop"],s["toast-shown"],s["has-column"]]),!0)})();if(Ve())return void l("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=s.container,t&&C(n,s["no-transition"]),O(n,At);const o=(e=>"string"==typeof e?document.querySelector(e):e)(e.target);o.appendChild(n),(e=>{const t=g();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&C(_(),s.rtl)})(o),(()=>{const e=g(),t=V(e,s.input),n=V(e,s.file),o=e.querySelector(".".concat(s.range," input")),a=e.querySelector(".".concat(s.range," output")),f=V(e,s.select),E=e.querySelector(".".concat(s.checkbox," input")),R=V(e,s.textarea);t.oninput=Q,n.onchange=Q,f.onchange=Q,E.onchange=Q,R.oninput=Q,o.oninput=()=>{Q(),a.value=o.value},o.onchange=()=>{Q(),o.nextSibling.value=o.value}})()})(e)}const ct=["swal-title","swal-html","swal-footer"],J=(e,t)=>{x(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&m(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})},ut=e=>{const t=g();if(e.target!==t)return;const n=_();t.removeEventListener(re,ut),n.style.overflowY="auto"},bo=(e,t)=>{re&&We(t)?(e.style.overflowY="hidden",t.addEventListener(re,ut)):e.style.overflowY="auto"},yo=(e,t,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!$(document.body,s.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),C(document.body,s.iosfix),(()=>{const e=_();let t;e.ontouchstart=n=>{t=Mn(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}})(),!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)&&g().scrollHeight>window.innerHeight-44&&(_().style.paddingBottom="".concat(44,"px"))}})(),t&&"hidden"!==n&&(null===G.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(G.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(G.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=s["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))),setTimeout(()=>{e.scrollTop=0})},_o=(e,t,n)=>{C(e,n.showClass.backdrop),t.style.setProperty("opacity","0","important"),L(t,"grid"),setTimeout(()=>{C(t,n.showClass.popup),t.style.removeProperty("opacity")},10),C([document.documentElement,document.body],s.shown),n.heightAuto&&n.backdrop&&!n.toast&&C([document.documentElement,document.body],s["height-auto"])},ko={select:(e,t,n)=>{const o=V(e,s.select),a=(f,E,R)=>{const q=document.createElement("option");q.value=R,O(q,E),q.selected=dt(R,n.inputValue),f.appendChild(q)};t.forEach(f=>{const E=f[0],R=f[1];if(Array.isArray(R)){const q=document.createElement("optgroup");q.label=E,q.disabled=!1,o.appendChild(q),R.forEach(oe=>a(q,oe[1],oe[0]))}else a(o,R,E)}),o.focus()},radio:(e,t,n)=>{const o=V(e,s.radio);t.forEach(f=>{const E=f[0],R=f[1],q=document.createElement("input"),oe=document.createElement("label");q.type="radio",q.name=s.radio,q.value=E,dt(E,n.inputValue)&&(q.checked=!0);const Oe=document.createElement("span");O(Oe,R),Oe.className=s.label,oe.appendChild(q),oe.appendChild(Oe),o.appendChild(oe)});const a=o.querySelectorAll("input");a.length&&a[0].focus()}},ke=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((n,o)=>{let a=n;"object"==typeof a&&(a=ke(a)),t.push([o,a])}):Object.keys(e).forEach(n=>{let o=e[n];"object"==typeof o&&(o=ke(o)),t.push([n,o])}),t},dt=(e,t)=>t&&t.toString()===e.toString(),ht=(e,t)=>{const n=w.innerParams.get(e),o=((e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return(e=>e.checked?1:0)(n);case"radio":return(e=>e.checked?e.value:null)(n);case"file":return(e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null)(n);default:return t.inputAutoTrim?n.value.trim():n.value}})(e,n);n.inputValidator?To(e,o,t):e.getInput().checkValidity()?"deny"===t?Be(e,o):Ee(e,o):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},To=(e,t,n)=>{const o=w.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>u(o.inputValidator(t,o.validationMessage))).then(f=>{e.enableButtons(),e.enableInput(),f?e.showValidationMessage(f):"deny"===n?Be(e,t):Ee(e,t)})},Be=(e,t)=>{const n=w.innerParams.get(e||void 0);n.showLoaderOnDeny&&ee(z()),n.preDeny?(w.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>u(n.preDeny(t,n.validationMessage))).then(a=>{!1===a?e.hideLoading():e.closePopup({isDenied:!0,value:void 0===a?t:a})}).catch(a=>pt(e||void 0,a))):e.closePopup({isDenied:!0,value:t})},ft=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},pt=(e,t)=>{e.rejectPromise(t)},Ee=(e,t)=>{const n=w.innerParams.get(e||void 0);n.showLoaderOnConfirm&&ee(),n.preConfirm?(e.resetValidationMessage(),w.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>u(n.preConfirm(t,n.validationMessage))).then(a=>{M(ue())||!1===a?e.hideLoading():ft(e,void 0===a?t:a)}).catch(a=>pt(e||void 0,a))):ft(e,t)},xe=(e,t,n)=>{const o=ye();if(o.length)return(t+=n)===o.length?t=0:-1===t&&(t=o.length-1),o[t].focus();g().focus()},gt=["ArrowRight","ArrowDown"],Oo=["ArrowLeft","ArrowUp"],qo=(e,t,n)=>{if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Je(),t.preventDefault()}},Fo=(e,t)=>{const n=e.target,o=ye();let a=-1;for(let f=0;f<o.length;f++)if(n===o[f]){a=f;break}xe(0,a,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()},Ro=e=>{if(![U(),z(),K()].includes(document.activeElement))return;const a=gt.includes(e)?"nextElementSibling":"previousElementSibling",f=document.activeElement[a];f&&f.focus()},Mo=(e,t,n)=>{N(t.allowEscapeKey)&&(e.preventDefault(),n(I.esc))};let me=!1;const zo=(e,t)=>{const n=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return(e=>{const t=ct.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);x(e.children).forEach(n=>{const o=n.tagName.toLowerCase();-1===t.indexOf(o)&&m("Unrecognized element <".concat(o,">"))})})(n),Object.assign((e=>{const t={};return x(e.querySelectorAll("swal-param")).forEach(n=>{J(n,["name","value"]);const o=n.getAttribute("name");let a=n.getAttribute("value");"boolean"==typeof te[o]&&"false"===a&&(a=!1),"object"==typeof te[o]&&(a=JSON.parse(a)),t[o]=a}),t})(n),(e=>{const t={};return x(e.querySelectorAll("swal-button")).forEach(n=>{J(n,["type","color","aria-label"]);const o=n.getAttribute("type");t["".concat(o,"ButtonText")]=n.innerHTML,t["show".concat(Z(o),"Button")]=!0,n.hasAttribute("color")&&(t["".concat(o,"ButtonColor")]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t["".concat(o,"ButtonAriaLabel")]=n.getAttribute("aria-label"))}),t})(n),(e=>{const t={},n=e.querySelector("swal-image");return n&&(J(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt"))),t})(n),(e=>{const t={},n=e.querySelector("swal-icon");return n&&(J(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t})(n),(e=>{const t={},n=e.querySelector("swal-input");n&&(J(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=e.querySelectorAll("swal-input-option");return o.length&&(t.inputOptions={},x(o).forEach(a=>{J(a,["value"]);const f=a.getAttribute("value");t.inputOptions[f]=a.innerHTML})),t})(n),((e,t)=>{const n={};for(const o in t){const a=t[o],f=e.querySelector(a);f&&(J(f,[]),n[a.replace(/^swal-/,"")]=f.innerHTML.trim())}return n})(n,ct))})(e),o=Object.assign({},te,t,n,e);return o.showClass=Object.assign({},te.showClass,o.showClass),o.hideClass=Object.assign({},te.hideClass,o.hideClass),o},$o=(e,t,n)=>new Promise((o,a)=>{const f=E=>{e.closePopup({isDismissed:!0,dismiss:E})};ce.swalPromiseResolve.set(e,o),ce.swalPromiseReject.set(e,a),t.confirmButton.onclick=()=>(e=>{const t=w.innerParams.get(e);e.disableButtons(),t.input?ht(e,"confirm"):Ee(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=w.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?ht(e,"deny"):Be(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(I.cancel)})(e,f),t.closeButton.onclick=()=>f(I.close),((e,t,n)=>{w.innerParams.get(e).toast?((e,t,n)=>{t.popup.onclick=()=>{const o=w.innerParams.get(e);o.showConfirmButton||o.showDenyButton||o.showCancelButton||o.showCloseButton||o.timer||o.input||n(I.close)}})(e,t,n):((e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(me=!0)}}})(t),(e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(me=!0)}}})(t),((e,t,n)=>{t.container.onclick=o=>{const a=w.innerParams.get(e);me?me=!1:o.target===t.container&&N(a.allowOutsideClick)&&n(I.backdrop)}})(e,t,n))})(e,t,f),((e,t,n,o)=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=a=>((e,t,n)=>{const o=w.innerParams.get(e);!o||(o.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?qo(e,t,o):"Tab"===t.key?Fo(t,o):[...gt,...Oo].includes(t.key)?Ro(t.key):"Escape"===t.key&&Mo(t,o,n))})(e,a,o),t.keydownTarget=n.keydownListenerCapture?window:g(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,y,n,f),((e,t)=>{"select"===t.input||"radio"===t.input?((e,t)=>{const n=g(),o=a=>ko[t.input](n,ke(a),t);j(t.inputOptions)||c(t.inputOptions)?(ee(U()),u(t.inputOptions).then(a=>{e.hideLoading(),o(a)})):"object"==typeof t.inputOptions?o(t.inputOptions):l("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))})(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(j(t.inputValue)||c(t.inputValue))&&(ee(U()),((e,t)=>{const n=e.getInput();D(n),u(t.inputValue).then(o=>{n.value="number"===t.input?parseFloat(o)||0:"".concat(o),L(n),n.focus(),e.hideLoading()}).catch(o=>{l("Error in inputValue promise: ".concat(o)),n.value="",L(n),n.focus(),e.hideLoading()})})(e,t))})(e,n),(e=>{const t=_(),n=g();"function"==typeof e.willOpen&&e.willOpen(n);const a=window.getComputedStyle(document.body).overflowY;_o(t,n,e),setTimeout(()=>{bo(t,n)},10),_e()&&(yo(t,e.scrollbarPadding,a),x(document.body.children).forEach(t=>{t===_()||t.contains(_())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),!fe()&&!y.previousActiveElement&&(y.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),W(t,s["no-transition"])})(n),Qo(y,n,f),Jo(t,n),setTimeout(()=>{t.container.scrollTop=0})}),Ko=e=>{const t={popup:g(),container:_(),actions:de(),confirmButton:U(),denyButton:z(),cancelButton:K(),loader:X(),closeButton:be(),validationMessage:ue(),progressSteps:Fe()};return w.domCache.set(e,t),t},Qo=(e,t,n)=>{const o=he();D(o),t.timer&&(e.timeout=new oo(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(L(o),setTimeout(()=>{e.timeout&&e.timeout.running&&ve(t.timer)})))},Jo=(e,t)=>{if(!t.toast){if(!N(t.allowEnterKey))return Zo();Yo(e,t)||xe(0,-1,1)}},Yo=(e,t)=>t.focusDeny&&M(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&M(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!M(e.confirmButton)||(e.confirmButton.focus(),0)),Zo=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},mt=e=>{e.isAwaitingPromise()?(Te(w,e),w.awaitingPromise.set(e,!0)):(Te(ce,e),Te(w,e))},Te=(e,t)=>{for(const n in e)e[n].delete(t)};var bt=Object.freeze({hideLoading:et,disableLoading:et,getInput:function Ln(e){const t=w.innerParams.get(e||this),n=w.domCache.get(e||this);return n?we(n.popup,t.input):null},close:ge,isAwaitingPromise:function Nn(){return!!w.awaitingPromise.get(this)},rejectPromise:function $n(e){const t=ce.swalPromiseReject.get(this);ot(this),t&&t(e)},closePopup:ge,closeModal:ge,closeToast:ge,enableButtons:function Yn(){it(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Zn(){it(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Xn(){return rt(this.getInput(),!1)},disableInput:function Gn(){return rt(this.getInput(),!0)},showValidationMessage:function eo(e){const t=w.domCache.get(this),n=w.innerParams.get(this);O(t.validationMessage,e),t.validationMessage.className=s["validation-message"],n.customClass&&n.customClass.validationMessage&&C(t.validationMessage,n.customClass.validationMessage),L(t.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedby",s["validation-message"]),Me(o),C(o,s.inputerror))},resetValidationMessage:function to(){const e=w.domCache.get(this);e.validationMessage&&D(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),W(t,s.inputerror))},getProgressSteps:function no(){return w.domCache.get(this).progressSteps},_main:function No(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};En(Object.assign({},t,e)),y.currentInstance&&(y.currentInstance._destroy(),_e()&&tt()),y.currentInstance=this;const n=zo(e,t);ro(n),Object.freeze(n),y.timeout&&(y.timeout.stop(),delete y.timeout),clearTimeout(y.restoreFocusTimeout);const o=Ko(this);return Qe(this,n),w.innerParams.set(this,n),$o(this,o,n)},update:function Xo(e){const t=g(),n=w.innerParams.get(this);if(!t||$(t,n.hideClass.popup))return m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const o={};Object.keys(e).forEach(f=>{Y.isUpdatableParameter(f)?o[f]=e[f]:m('Invalid parameter to update: "'.concat(f,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const a=Object.assign({},n,o);Qe(this,a),w.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function Go(){const e=w.domCache.get(this),t=w.innerParams.get(this);t?(e.popup&&y.swalCloseEventFinishedCallback&&(y.swalCloseEventFinishedCallback(),delete y.swalCloseEventFinishedCallback),y.deferDisposalTimer&&(clearTimeout(y.deferDisposalTimer),delete y.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),(e=>{mt(e),delete e.params,delete y.keydownHandler,delete y.keydownTarget,delete y.currentInstance})(this)):mt(this)}});let Le;class ne{constructor(){if("undefined"==typeof window)return;Le=this;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];const a=Object.freeze(this.constructor.argsToParams(n));Object.defineProperties(this,{params:{value:a,writable:!1,enumerable:!0,configurable:!0}});const f=this._main(this.params);w.promise.set(this,f)}then(t){return w.promise.get(this).then(t)}finally(t){return w.promise.get(this).finally(t)}}Object.assign(ne.prototype,bt),Object.assign(ne,xn),Object.keys(bt).forEach(e=>{ne[e]=function(){if(Le)return Le[e](...arguments)}}),ne.DismissReason=I,ne.version="11.3.0";const Y=ne;return Y.default=Y,Y}),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2);var TradingView=function(I){"use strict";function A(l,v){const k=Object.assign({},l);for(const P in v)"object"!=typeof l[P]||null===l[P]||Array.isArray(l[P])?void 0!==v[P]&&(k[P]=v[P]):k[P]=A(l[P],v[P]);return k}const se={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},Z={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};function x(){return"CL v20.032 (internal id ad2f4a55 @ 2021-10-28T12:29:15.152Z)"}return window.TradingView=window.TradingView||{},window.TradingView.version=x,I.version=x,I.widget=class{constructor(l){if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!l.datafeed)throw new Error("Datafeed is not defined");if(this._options=A(Z,l),l.preset){const v=se[l.preset];v?(this._options.disabled_features=void 0!==this._options.disabled_features?this._options.disabled_features.concat(v.disabled_features):v.disabled_features,this._options.enabled_features=void 0!==this._options.enabled_features?this._options.enabled_features.concat(v.enabled_features):v.enabled_features):console.warn("Unknown preset: `"+l.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}onChartReady(l){this._ready?l.call(this):this._readyHandlers.push(l)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(l){this._innerAPI().onGrayedObjectClicked(l)}onShortcut(l,v){this._innerWindow().createShortcutAction(l,v)}subscribe(l,v){this._innerAPI().subscribe(l,v)}unsubscribe(l,v){this._innerAPI().unsubscribe(l,v)}chart(l){return this._innerAPI().chart(l)}getLanguage(){return this._options.locale}setSymbol(l,v,k){this._innerAPI().changeSymbol(l,v,k)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._innerAPI().closePopupsAndDialogs()}selectLineTool(l){this._innerAPI().selectLineTool(l)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(l){this._innerAPI().saveChart(l)}load(l,v){this._innerAPI().loadChart({json:l,extendedData:v})}getSavedCharts(l){this._innerAPI().getSavedCharts(l)}loadChartFromServer(l){this._innerAPI().loadChartFromServer(l)}saveChartToServer(l,v,k){this._innerAPI().saveChartToServer(l,v,k)}removeChartFromServer(l,v){this._innerAPI().removeChartFromServer(l,v)}onContextMenu(l){this._innerAPI().onContextMenu(l)}createButton(l){return this._innerWindow().createButton(l)}showNoticeDialog(l){this._innerAPI().showNoticeDialog(l)}showConfirmDialog(l){this._innerAPI().showConfirmDialog(l)}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}addCustomCSSFile(l){this._innerWindow().addCustomCSSFile(l)}applyOverrides(l){this._options=A(this._options,{overrides:l}),this._innerWindow().applyOverrides(l)}applyStudiesOverrides(l){this._innerWindow().applyStudiesOverrides(l)}watchList(){return this._innerAPI().watchlist()}activeChart(){return this._innerAPI().activeChart()}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(l){this._innerAPI().setLayout(l)}layoutName(){return this._innerAPI().layoutName()}changeTheme(l,v){this._innerWindow().changeTheme(l,v)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._innerAPI().takeScreenshot()}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllCharts(l){this._innerAPI().drawOnAllCharts(l)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(l){this._innerAPI().setIntervalLinkingEnabled(l)}setTimeFrame(l){this._innerAPI().setTimeFrame(l)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(l){return this._innerAPI().takeClientScreenshot(l)}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")}_create(){const l=this._render();this._options.container_id&&console.warn("`container_id` is now deprecated. Please use `container` instead to either still pass a string or an `HTMLElement`.");const v=this._options.container_id||this._options.container,k="string"==typeof v?document.getElementById(v):v;if(null===k)throw new Error(`There is no such element - #${this._options.container}`);k.innerHTML=l,this._iFrame=k.querySelector(`#${this._id}`);const P=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(P.style.width="100%",this._options.fullscreen||(P.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(N=>{const j=()=>{P.removeEventListener("load",j,!1),N()};P.addEventListener("load",j,!1)}),this._innerWindowLoaded.then(()=>{this._innerWindow().widgetReady(()=>{this._ready=!0;for(const N of this._readyHandlers)try{N.call(this)}catch(j){console.error(j)}this._innerWindow().initializationFinished()})})}_render(){const l=window;if(l[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode},this._options.saved_data)l[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(l[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");const v=(this._options.library_path||"")+`${encodeURIComponent(this._options.locale)}-tv-chart.ad2f4a55.html#symbol=`+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+v+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'}},I}({});!function(I,A){"object"==typeof exports&&"undefined"!=typeof module?A(exports):"function"==typeof define&&define.amd?define(["exports"],A):A((I="undefined"!=typeof globalThis?globalThis:I||self).Datafeeds={})}(this,function(I){"use strict";function A(u){return void 0===u?"":"string"==typeof u?u:u.message}class se{constructor(c,i){this._datafeedUrl=c,this._requester=i}getBars(c,i,r){const d={symbol:c.ticker||"",resolution:i,from:r.from,to:r.to};return void 0!==r.countBack&&(d.countback=r.countBack),void 0!==c.currency_code&&(d.currencyCode=c.currency_code),void 0!==c.unit_id&&(d.unitId=c.unit_id),new Promise((h,p)=>{this._requester.sendRequest(this._datafeedUrl,"history",d).then(s=>{if("ok"!==s.s&&"no_data"!==s.s)return void p(s.errmsg);const b=[],_={noData:!1};if("no_data"===s.s)_.noData=!0,_.nextTime=s.nextTime;else{const T=void 0!==s.v,S=void 0!==s.o;for(let g=0;g<s.t.length;++g){const B={time:1e3*s.t[g],close:parseFloat(s.c[g]),open:parseFloat(s.c[g]),high:parseFloat(s.c[g]),low:parseFloat(s.c[g])};S&&(B.open=parseFloat(s.o[g]),B.high=parseFloat(s.h[g]),B.low=parseFloat(s.l[g])),T&&(B.volume=parseFloat(s.v[g])),b.push(B)}}h({bars:b,meta:_})}).catch(s=>{const b=A(s);console.warn(`HistoryProvider: getBars() failed, error=${b}`),p(b)})})}}class Z{constructor(c,i){this._subscribers={},this._requestsPending=0,this._historyProvider=c,setInterval(this._updateData.bind(this),i)}subscribeBars(c,i,r,d){this._subscribers.hasOwnProperty(d)||(this._subscribers[d]={lastBarTime:null,listener:r,resolution:i,symbolInfo:c})}unsubscribeBars(c){delete this._subscribers[c]}_updateData(){if(!(this._requestsPending>0)){this._requestsPending=0;for(const c in this._subscribers)this._requestsPending+=1,this._updateDataForSubscriber(c).then(()=>{this._requestsPending-=1}).catch(i=>{this._requestsPending-=1,A(i)})}}_updateDataForSubscriber(c){const i=this._subscribers[c],r=parseInt((Date.now()/1e3).toString()),d=r-function(h,p){let s=0;return s="D"===h||"1D"===h?10:"M"===h||"1M"===h?310:"W"===h||"1W"===h?70:10*parseInt(h)/1440,24*s*60*60}(i.resolution);return this._historyProvider.getBars(i.symbolInfo,i.resolution,{from:d,to:r,countBack:2,firstDataRequest:!1}).then(h=>{this._onSubscriberDataReceived(c,h)})}_onSubscriberDataReceived(c,i){if(!this._subscribers.hasOwnProperty(c))return;const r=i.bars;if(0===r.length)return;const d=r[r.length-1],h=this._subscribers[c];if(!(null!==h.lastBarTime&&d.time<h.lastBarTime)){if(null!==h.lastBarTime&&d.time>h.lastBarTime){if(r.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");h.listener(r[r.length-2])}h.lastBarTime=d.time,h.listener(d)}}}class x{constructor(c){this._subscribers={},this._requestsPending=0,this._quotesProvider=c,setInterval(this._updateQuotes.bind(this,1),1e4),setInterval(this._updateQuotes.bind(this,0),6e4)}subscribeQuotes(c,i,r,d){this._subscribers[d]={symbols:c,fastSymbols:i,listener:r}}unsubscribeQuotes(c){delete this._subscribers[c]}_updateQuotes(c){if(!(this._requestsPending>0))for(const i in this._subscribers){this._requestsPending++;const r=this._subscribers[i];this._quotesProvider.getQuotes(1===c?r.fastSymbols:r.symbols).then(d=>{this._requestsPending--,this._subscribers.hasOwnProperty(i)&&r.listener(d)}).catch(d=>{this._requestsPending--,A(d)})}}}function m(u,c,i,r){const d=u[c];return!Array.isArray(d)||r&&!Array.isArray(d[0])?d:d[i]}function l(u,c,i){return u+(void 0!==c?"_%|#|%_"+c:"")+(void 0!==i?"_%|#|%_"+i:"")}class v{constructor(c,i,r){this._exchangesList=["NYSE","FOREX","AMEX"],this._symbolsInfo={},this._symbolsList=[],this._datafeedUrl=c,this._datafeedSupportedResolutions=i,this._requester=r,this._readyPromise=this._init(),this._readyPromise.catch(d=>{console.error(`SymbolsStorage: Cannot init, error=${d.toString()}`)})}resolveSymbol(c,i,r){return this._readyPromise.then(()=>{const d=this._symbolsInfo[l(c,i,r)];return void 0===d?Promise.reject("invalid symbol"):Promise.resolve(d)})}searchSymbols(c,i,r,d){return this._readyPromise.then(()=>{const h=[],p=0===c.length;c=c.toUpperCase();for(const b of this._symbolsList){const _=this._symbolsInfo[b];if(void 0===_||r.length>0&&_.type!==r||i&&i.length>0&&_.exchange!==i)continue;const T=_.name.toUpperCase().indexOf(c),S=_.description.toUpperCase().indexOf(c);(p||T>=0||S>=0)&&!h.some(g=>g.symbolInfo===_)&&h.push({symbolInfo:_,weight:T>=0?T:8e3+S})}const s=h.sort((b,_)=>b.weight-_.weight).slice(0,d).map(b=>{const _=b.symbolInfo;return{symbol:_.name,full_name:_.full_name,description:_.description,exchange:_.exchange,params:[],type:_.type,ticker:_.name}});return Promise.resolve(s)})}_init(){const c=[],i={};for(const r of this._exchangesList)i[r]||(i[r]=!0,c.push(this._requestExchangeData(r)));return Promise.all(c).then(()=>{this._symbolsList.sort()})}_requestExchangeData(c){return new Promise((i,r)=>{this._requester.sendRequest(this._datafeedUrl,"symbol_info",{group:c}).then(d=>{try{this._onExchangeDataReceived(c,d)}catch(h){return void r(h)}i()}).catch(d=>{A(d),i()})})}_onExchangeDataReceived(c,i){let r=0;try{const d=i.symbol.length,h=void 0!==i.ticker;for(;r<d;++r){const p=i.symbol[r],s=m(i,"exchange-listed",r),b=m(i,"exchange-traded",r),_=b+":"+p,T=m(i,"currency-code",r),S=m(i,"unit-id",r),g=h?m(i,"ticker",r):p,B={ticker:g,name:p,base_name:[s+":"+p],full_name:_,listed_exchange:s,exchange:b,currency_code:T,original_currency_code:m(i,"original-currency-code",r),unit_id:S,original_unit_id:m(i,"original-unit-id",r),unit_conversion_types:m(i,"unit-conversion-types",r,!0),description:m(i,"description",r),has_intraday:k(m(i,"has-intraday",r),!1),has_no_volume:k(m(i,"has-no-volume",r),!1),minmov:m(i,"minmovement",r)||m(i,"minmov",r)||0,minmove2:m(i,"minmove2",r)||m(i,"minmov2",r),fractional:m(i,"fractional",r),pricescale:m(i,"pricescale",r),type:m(i,"type",r),session:m(i,"session-regular",r),timezone:m(i,"timezone",r),supported_resolutions:k(m(i,"supported-resolutions",r,!0),this._datafeedSupportedResolutions),has_daily:k(m(i,"has-daily",r),!0),intraday_multipliers:k(m(i,"intraday-multipliers",r,!0),["1","5","15","30","60"]),has_weekly_and_monthly:m(i,"has-weekly-and-monthly",r),has_empty_bars:m(i,"has-empty-bars",r),volume_precision:k(m(i,"volume-precision",r),0),format:"price"};this._symbolsInfo[g]=B,this._symbolsInfo[p]=B,this._symbolsInfo[_]=B,void 0===T&&void 0===S||(this._symbolsInfo[l(g,T,S)]=B,this._symbolsInfo[l(p,T,S)]=B,this._symbolsInfo[l(_,T,S)]=B),this._symbolsList.push(p)}}catch(d){throw new Error(`SymbolsStorage: API error when processing exchange ${c} symbol #${r} (${i.symbol[r]}): ${d.message}`)}}}function k(u,c){return void 0!==u?u:c}function P(u,c,i){const r=u[c];return Array.isArray(r)?r[i]:r}class N{constructor(c,i){this._datafeedUrl=c,this._requester=i}getQuotes(c){return new Promise((i,r)=>{this._requester.sendRequest(this._datafeedUrl,"quotes",{symbols:c}).then(d=>{"ok"===d.s?i(d.d):r(d.errmsg)}).catch(d=>{const h=A(d);r(`network error: ${h}`)})})}}class j{constructor(c){c&&(this._headers=c)}sendRequest(c,i,r){if(void 0!==r){const h=Object.keys(r);0!==h.length&&(i+="?"),i+=h.map(p=>`${encodeURIComponent(p)}=${encodeURIComponent(r[p].toString())}`).join("&")}const d={credentials:"same-origin"};return void 0!==this._headers&&(d.headers=this._headers),fetch(`${c}/${i}`,d).then(h=>h.text()).then(h=>JSON.parse(h))}}I.UDFCompatibleDatafeed=class extends class{constructor(u,c,i,r=1e4){this._configuration={supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1},this._symbolsStorage=null,this._datafeedURL=u,this._requester=i,this._historyProvider=new se(u,this._requester),this._quotesProvider=c,this._dataPulseProvider=new Z(this._historyProvider,r),this._quotesPulseProvider=new x(this._quotesProvider),this._configurationReadyPromise=this._requestConfiguration().then(d=>{null===d&&(d={supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}),this._setupWithConfiguration(d)})}onReady(u){this._configurationReadyPromise.then(()=>{u(this._configuration)})}getQuotes(u,c,i){this._quotesProvider.getQuotes(u).then(c).catch(i)}subscribeQuotes(u,c,i,r){this._quotesPulseProvider.subscribeQuotes(u,c,i,r)}unsubscribeQuotes(u){this._quotesPulseProvider.unsubscribeQuotes(u)}getMarks(u,c,i,r,d){this._configuration.supports_marks&&this._send("marks",{symbol:u.ticker||"",from:c,to:i,resolution:d}).then(p=>{if(!Array.isArray(p)){const s=[];for(let b=0;b<p.id.length;++b)s.push({id:P(p,"id",b),time:P(p,"time",b),color:P(p,"color",b),text:P(p,"text",b),label:P(p,"label",b),labelFontColor:P(p,"labelFontColor",b),minSize:P(p,"minSize",b)});p=s}r(p)}).catch(p=>{A(p),r([])})}getTimescaleMarks(u,c,i,r,d){this._configuration.supports_timescale_marks&&this._send("timescale_marks",{symbol:u.ticker||"",from:c,to:i,resolution:d}).then(p=>{if(!Array.isArray(p)){const s=[];for(let b=0;b<p.id.length;++b)s.push({id:P(p,"id",b),time:P(p,"time",b),color:P(p,"color",b),label:P(p,"label",b),tooltip:P(p,"tooltip",b)});p=s}r(p)}).catch(p=>{A(p),r([])})}getServerTime(u){this._configuration.supports_time&&this._send("time").then(c=>{const i=parseInt(c);isNaN(i)||u(i)}).catch(c=>{A(c)})}searchSymbols(u,c,i,r){if(this._configuration.supports_search){const d={limit:30,query:u.toUpperCase(),type:i,exchange:c};this._send("search",d).then(h=>{r(void 0===h.s?h:[])}).catch(h=>{A(h),r([])})}else{if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.searchSymbols(u,c,i,30).then(r).catch(r.bind(null,[]))}}resolveSymbol(u,c,i,r){const d=r&&r.currencyCode,h=r&&r.unitId;function p(s){c(s)}if(this._configuration.supports_group_request){if(null===this._symbolsStorage)throw new Error("UdfCompatibleDatafeed: inconsistent configuration (symbols storage)");this._symbolsStorage.resolveSymbol(u,d,h).then(p).catch(i)}else{const s={symbol:u};void 0!==d&&(s.currencyCode=d),void 0!==h&&(s.unitId=h),this._send("symbols",s).then(b=>{void 0!==b.s?i("unknown_symbol"):p(b)}).catch(b=>{A(b),i("unknown_symbol")})}}getBars(u,c,i,r,d){this._historyProvider.getBars(u,c,i).then(h=>{r(h.bars,h.meta)}).catch(d)}subscribeBars(u,c,i,r,d){this._dataPulseProvider.subscribeBars(u,c,i,r)}unsubscribeBars(u){this._dataPulseProvider.unsubscribeBars(u)}_requestConfiguration(){return this._send("config").catch(u=>(A(u),null))}_send(u,c){return this._requester.sendRequest(this._datafeedURL,u,c)}_setupWithConfiguration(u){if(this._configuration=u,void 0===u.exchanges&&(u.exchanges=[]),!u.supports_search&&!u.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");!u.supports_group_request&&u.supports_search||(this._symbolsStorage=new v(this._datafeedURL,u.supported_resolutions||[],this._requester)),JSON.stringify(u)}}{constructor(u,c=1e4){const i=new j;super(u,new N(u,i),i,c)}},Object.defineProperty(I,"__esModule",{value:!0})});